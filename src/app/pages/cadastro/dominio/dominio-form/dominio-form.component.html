<div *ngIf="( currentAction === 'edit' ); then thenEdit else NewBlock"></div>
<ng-template #thenEdit>
    <app-barra-navegacao [breadcrumbitems]="[{text: 'Domínio', link: '/dominio'},{text: 'Editar'}]"></app-barra-navegacao>
</ng-template>
<ng-template #NewBlock>
    <app-barra-navegacao [breadcrumbitems]="[{text: 'Domínio', link: '/dominio'},{text: 'Novo'}]"></app-barra-navegacao>
</ng-template> 

<p-growl [value]="msgs"></p-growl>
<form [formGroup]="resourceForm" (submit)="submitForm()">
    <div class="card">
        <div class="card-header">
          Informações sobre Domínio: {{ id }}  
        </div>    
    
        <div class="card-body">
          <div class="form-row">
            <div class="form-group col-md">  
                <p-checkbox [disabled]="( currentAction === 'edit' )" label="Domínios Acesso" binary="true" (onChange)="mudarChecked($event)"></p-checkbox>                
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-3">
                <label for="tipoModulo">Domínio</label>
                <div *ngIf="checked; then thenBlock else elseBlock"></div>
                <ng-template #thenBlock>                
                    <select class="custom-select my-1 mr-sm-2" id="nome" name="nome" formControlName="nome">
                        <option *ngFor="let op of optDominios" [value]="op.value">{{ op.label }}</option>            
                    </select>
                </ng-template>
                <ng-template #elseBlock>
                    <input type="text" class="form-control" id="nome" name="nome" formControlName="nome" style="float:rigth">
                </ng-template>                


                <app-form-field-error [form-control]="resourceForm.get('nome')"></app-form-field-error>
            </div>
          </div>  


          <div class="form-row">
              <div class="form-group col-md-3">
                  <label for="name">Valor do Domínio</label>
                  <input type="text" class="form-control" id="cd" formControlName="cd" style="float:rigth">
        
                  <app-form-field-error [form-control]="resourceForm.get('cd')"></app-form-field-error>
              </div>
          </div>

          <div class="form-row">
              <div class="form-group col-md-9">
                  <label for="name">Descrição do Domínio</label>
                  <input type="text" class="form-control" id="descricao" formControlName="descricao" style="float:rigth">
        
                  <app-form-field-error [form-control]="resourceForm.get('descricao')"></app-form-field-error>
              </div>
          </div>

        </div>
    </div>

    <p-footer>
        <div class="ui-g-12 ui-dialog-buttonpane ui-helper-clearfix">
              <p-confirmDialog acceptLabel="Sim" rejectLabel="Não" ></p-confirmDialog>
              <button type="button" [disabled]="!resourceForm.valid" (click)="submitForm(resourceForm)" pButton icon="pi pi-check" label="Gravar"></button>
              <p-messages [value]="msgs"></p-messages>
        </div>  
    </p-footer>

</form>
